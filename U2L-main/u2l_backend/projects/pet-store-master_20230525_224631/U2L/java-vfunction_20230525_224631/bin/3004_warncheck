#!/bin/sh
#
# $Header: /data/cvsrepo/assess-tools/bin/3004_warncheck,v 1.1 2013/06/24 07:13:43 miya Exp $
# $Name: rev_1_10 $
#
# ツール名 : 3004_warncheck
# 概要     : 3000_FULLPATH.sh ですべての警告がフルパス化されているかの確認ツール
# 実行方法 : 3004_warncheck.sh log_file fullpath_file
# 入力	   : log_file : 警告ログファイル
#          : fullpath_file : フルパス化完了ファイル
# 出力     : "No difference."   : 正常にフルパス化が行われた場合のメッセージ
#          : フルパス化されていない場合は、該当行を出力

trap 'rm -f df1.$$ df2.$$ ;exit 1' 2 3 9 15

if [ $# -ne 2 ];
then
	echo "Usage : $0 <log_file> <fullpath_file>"
	exit 1
fi

if [ -f $1 ];
then
	INPUT_FILE=$1
else
	echo "Not found input file : $1"
	exit 1
fi
	
if [ -f $2 ];
then
	FULLPATH_FILE=$2
else
	echo "Not found fullpath input file : $2"
	exit 1
fi

cut -d, -f2- $INPUT_FILE | sort > df1.$$
cut -d, -f2- $FULLPATH_FILE | sort > df2.$$

diff df1.$$ df2.$$
if [ $? -eq 0 ];
then
	echo "No difference."
fi

